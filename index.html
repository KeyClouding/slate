
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>KeyClouding API</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;json&quot;]">
    <a href="#" id="nav-button">
      <span>
        MENU
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="json">json</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduccion" class="toc-h1 toc-link" data-title="Introducción">Introducción</a>
          </li>
          <li>
            <a href="#autenticacion" class="toc-h1 toc-link" data-title="Autenticación">Autenticación</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#parametros-de-la-consulta" class="toc-h2 toc-link" data-title="Parámetros de la consulta">Parámetros de la consulta</a>
                  </li>
                  <li>
                    <a href="#respuesta-json" class="toc-h2 toc-link" data-title="Respuesta JSON">Respuesta JSON</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#consultas-y-funcionalidades" class="toc-h1 toc-link" data-title="Consultas y Funcionalidades">Consultas y Funcionalidades</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#asignacion-de-cargo" class="toc-h2 toc-link" data-title="Asignación de Cargo">Asignación de Cargo</a>
                  </li>
                  <li>
                    <a href="#consulta-de-resultados" class="toc-h2 toc-link" data-title="Consulta de resultados">Consulta de resultados</a>
                  </li>
                  <li>
                    <a href="#lista-de-key-scorings-cargos-activos" class="toc-h2 toc-link" data-title="Lista de Key Scorings (cargos) activos">Lista de Key Scorings (cargos) activos</a>
                  </li>
                  <li>
                    <a href="#creacion-de-webhook" class="toc-h2 toc-link" data-title="Creación de Webhook">Creación de Webhook</a>
                  </li>
                  <li>
                    <a href="#listar-webhooks-existentes" class="toc-h2 toc-link" data-title="Listar Webhooks existentes">Listar Webhooks existentes</a>
                  </li>
                  <li>
                    <a href="#eliminacion-de-webhook" class="toc-h2 toc-link" data-title="Eliminación de Webhook">Eliminación de Webhook</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#estandares-y-tecnologia" class="toc-h1 toc-link" data-title="Estándares y Tecnología">Estándares y Tecnología</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#comunicacion" class="toc-h2 toc-link" data-title="Comunicación">Comunicación</a>
                  </li>
                  <li>
                    <a href="#tecnologia" class="toc-h2 toc-link" data-title="Tecnología">Tecnología</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#justificacion-de-la-tecnologia" class="toc-h1 toc-link" data-title="Justificación de la Tecnología">Justificación de la Tecnología</a>
          </li>
          <li>
            <a href="#ambiente-de-prueba" class="toc-h1 toc-link" data-title="Ambiente de prueba">Ambiente de prueba</a>
          </li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduccion'>Introducción</h1>
<p>En el siguiente documento se detallan los mecanismos y protocolos de comunicación a utilizar para el intercambio de información entre aplicaciones cliente y el servidor de datos de KeyClouding.</p>

<p>Para efectos del documento, la aplicación cliente realizará solicitudes al servidor y este enviará un set de resultados (o nulo) para la consulta indicada. A continuación, se presentan los estándares y tecnología a utilizar, luego las consultas y set de respuestas esperadas y finalmente una pequeña justificación de la implementación.</p>
<h1 id='autenticacion'>Autenticación</h1><pre class="highlight shell tab-shell"><code><span class="s2">"https://app.keyclouding.cl/api/v1/company/authentication?secret=secret_key"</span>
</code></pre>
<blockquote>
<p>Si la respuesta es satisfactoria:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AfTzE7BpcORyp6fN"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Si se produce un error:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">401</span><span class="p">,</span><span class="w">
  </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Para hacer uso de la API de KeyClouding, en toda consulta que se realiza al servidor se debe entregar un parámetro &quot;token&quot;. Este se genera por medio de la autenticación y tiene una validez de 30 minutos.</p>

<p>Para generar el token, se debe hacer un request con método POST al URL
 <code>https://app.keyclouding.cl/api/v1/company/authentication</code>.</p>

<p>Se debe entregar a este request un parámetro &quot;secret&quot;, que es entregado al usuario por KeyClouding. Según sea el resultado de la autenticación, se entregará el token correspondiente para realizar futuras consultas o un mensaje indicando que no se pudo ingresar con éxito.</p>

<p>A la derecha se muestra un ejemplo de autenticación donde el secret corresponde a &quot;secret_key&quot; y posibles respuestas según el resultado obtenido.</p>
<h3 id='parametros-de-la-consulta'>Parámetros de la consulta</h3>
<table><thead>
<tr>
<th>Parámetro</th>
<th>Carácter</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>secret (string)</td>
<td>obligatorio</td>
<td>Clave propia de la compañía entregada por KeyClouding</td>
</tr>
</tbody></table>

<p>La respuesta obtenida está en el siguiente formato:</p>
<h3 id='respuesta-json'>Respuesta JSON</h3>
<table><thead>
<tr>
<th>Parámetro</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>status (integer)</td>
<td>Resultado de la consulta. Los valores admitidos son 200 (OK), 401 (Unauthorized), 403 (Forbidden) ó 400 (Bad Request).</td>
</tr>
<tr>
<td>token</td>
<td>Token temporal para realizar consultas.</td>
</tr>
</tbody></table>
<h1 id='consultas-y-funcionalidades'>Consultas y Funcionalidades</h1><h2 id='asignacion-de-cargo'>Asignación de Cargo</h2><pre class="highlight shell tab-shell"><code><span class="s2">"https://app.keyclouding.cl/api/v1/company/assign_ks?token=AfTzE7BpcORyp6fN&amp;dni=13.433.615-3&amp;ks_code=VET&amp;country=CL&amp;nombres=Juan&amp;apellido_paterno=Perez&amp;email=juan@perez.cl"</span>
</code></pre>
<blockquote>
<p>Si la asignación es satisfactoria:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"message”: “Applicant assigned."</span><span class="p">,</span><span class="w"> 
  </span><span class="s2">"password”: “0769019c"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ks_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">32029</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Si se produce un error de autenticación:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">401</span><span class="p">,</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Token inválido"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Si se produce un error de parámetros y sus respectivos mensajes:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No se incluyó &lt;parámetro&gt;"</span><span class="w"> </span><span class="err">ó</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rut inválido"</span><span class="w"> </span><span class="err">ó</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KS &lt;parámetro&gt; inexistente"</span><span class="w"> </span><span class="err">ó</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"nombres"</span><span class="p">:[</span><span class="w">
      </span><span class="s2">"No puede estar en blanco"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"apellido_paterno"</span><span class="p">:[</span><span class="w">
      </span><span class="s2">"No puede estar en blanco"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"No es una dirección de correo electrónico válida."</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Recibe los datos de un postulante y un cargo KS existente en el perfil de la empresa para que el sistema asigne los test respectivos.</p>
<h3 id='request'>Request</h3>
<p><code>POST https://app.keyclouding.cl/api/v1/company/assign_ks</code></p>
<h3 id='parametros-de-la-consulta-2'>Parámetros de la consulta</h3>
<table><thead>
<tr>
<th>Parámetro</th>
<th>Carácter</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>token (string)</td>
<td>obligatorio</td>
<td>Token generado por la autenticación.</td>
</tr>
<tr>
<td>dni (string)</td>
<td>obligatorio</td>
<td>Documento de identidad del postulante.</td>
</tr>
<tr>
<td>ks_code (string)</td>
<td>obligatorio</td>
<td>Sigla que representa el KS a asignar. Debe ser la misma que la creada en el perfil de KeyClouding.</td>
</tr>
<tr>
<td>country (string)</td>
<td>obligatorio</td>
<td>País emisor del documento de identidad del postulante (sigla internacional). La lista de códigos de paises disponibles se encuentra <a href="https://es.wikipedia.org/wiki/ISO_3166-1">aquí</a> (tenga cuidado en elegir el código correspondiente de 2 letras).</td>
</tr>
<tr>
<td>nombres (string)</td>
<td>obligatorio</td>
<td>Obligatorio sólo si dni del postulante no había sido ingresado en el sistema. En caso de que el postulante ya exista en el sistema y este parámetro venga en la consulta, se sobreescriben los nombres del postulante.</td>
</tr>
<tr>
<td>apellido_paterno (string)</td>
<td>obligatorio</td>
<td>Obligatorio sólo si dni del postulante no había sido ingresado en el sistema. En caso de que el postulante ya exista en el sistema y este parámetro venga en la consulta, se sobreescribe el apellido paterno del postulante.</td>
</tr>
<tr>
<td>email (string)</td>
<td>obligatorio</td>
<td>Obligatorio sólo si dni del postulante no había sido ingresado en el sistema. En caso de que el postulante ya exista en el sistema y este parámetro venga en la consulta, se sobreescribe el email del postulante.</td>
</tr>
<tr>
<td>proceso (string)</td>
<td>obligatorio</td>
<td>Nombre del proceso del cual está participando el postulante.</td>
</tr>
<tr>
<td>user_id (integer)</td>
<td>opcional</td>
<td>ID del usuario de la plataforma bajo el cual estarán a cargo las asignaciones. Si no se especifica queda por defecto bajo alguno de los administradores de la empresa.</td>
</tr>
<tr>
<td>phone (string)</td>
<td>opcional</td>
<td>Teléfono del postulante en formato internacional (+569xxxxxxxx) para envío de SMS. En caso de que el formato no coincida no arrojará error, pero no se guardará el teléfono ni se enviará el SMS. Para que el formato del teléfono sea válido el código de país debe coincidir con el campo Country. Este se encuentra en la misma tabla de código de países.</td>
</tr>
<tr>
<td>apellido_materno (string)</td>
<td>opcional</td>
<td>En caso de que el postulante ya exista en el sistema y este parámetro venga en la consulta, se sobreescribe el apellido paterno del postulante.</td>
</tr>
<tr>
<td>genero (string)</td>
<td>opcional</td>
<td>&quot;Masculino&quot; o &quot;Femenino&quot;. En caso de que el campo no cumpla con el formato, el valor no será asignado al campo, pero se realizará de todas maneras la asignación del KS.</td>
</tr>
<tr>
<td>fecha_nacimiento (string)</td>
<td>opcional</td>
<td>Formato dd-mm-yyyy. En caso de que el campo no cumpla con el formato, el valor no será asignado al campo, pero se realizará de todas maneras la asignación del KS.</td>
</tr>
<tr>
<td>direccion_residencia (string)</td>
<td>opcional</td>
<td>Dirección de residencia del postulante.</td>
</tr>
</tbody></table>

<p>La respuesta obtenida está en el siguiente formato:</p>
<h3 id='respuesta-json-2'>Respuesta JSON</h3>
<table><thead>
<tr>
<th>Parámetro</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>status (integer)</td>
<td>Resultado de la publicación de un nuevo postulante. Los valores admitidos son 200 (OK), 401 (Unauthorized), 403 (Forbidden) ó 400 (Bad Request).</td>
</tr>
<tr>
<td>ks_id (integer)</td>
<td>Identificador único de la asignación del KS.</td>
</tr>
<tr>
<td>password (string)</td>
<td>Contraseña del postulante.</td>
</tr>
<tr>
<td>message (string)</td>
<td>Mensaje indicando el estado de la solicitud.</td>
</tr>
</tbody></table>

<aside class="success">
Recuerda: una asignación completa es sinónimo de una asignación exitosa!
</aside>
<h2 id='consulta-de-resultados'>Consulta de resultados</h2><pre class="highlight shell tab-shell"><code><span class="s2">"https://app.keyclouding.cl/api/v1/company/results_ks?token=AfTzE7BpcORyp6fN&amp;ks_id=32029"</span>
</code></pre>
<blockquote>
<p>Si la respuesta es satisfactoria:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"estado_ks"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rendido"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"nota"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.5"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"rango"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Poco satisfactorio"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"informe_resumen"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.amazons3.com/kc/235324234.pdf"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"informe_otros"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"codigo_test"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ARP"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"informe_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.amazons3.com/kc/12341.pdf"</span><span class="w"> 
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"codigo_test"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DCT"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"informe_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.amazons3.com/kc/12341.pdf"</span><span class="w"> 
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w"> 
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Si la respuesta es satisfactoria, pero estado_ks es distinto de &quot;Rendido&quot;:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"estado_ks"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Inválido"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"nota"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"rango"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"informe_resumen"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"informe_otros"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"codigo_test"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ARP"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"informe_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"codigo_test"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DCT"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"informe_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.amazons3.com/kc/12341.pdf"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w"> 
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Si se produce un error de autenticación:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">401</span><span class="p">,</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Token inválido"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Si se produce un error de parámetros:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Asignación inválida"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<p>Recibe ks_id (identificador único del KS) y el sistema retorna los resultados de la rendición.</p>
<h3 id='request-2'>Request</h3>
<p><code>POST https://app.keyclouding.cl/api/v1/company/results_ks</code></p>
<h3 id='parametros-de-la-consulta-3'>Parámetros de la consulta</h3>
<table><thead>
<tr>
<th>Parámetro</th>
<th>Carácter</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>token (string)</td>
<td>obligatorio</td>
<td>Token generado por la autenticación.</td>
</tr>
<tr>
<td>ks_id (integer)</td>
<td>obligatorio</td>
<td>Identificador único de asignación, el mismo que fue retornado en la Asignación de Cargo.</td>
</tr>
</tbody></table>

<p>La respuesta obtenida está en el siguiente formato:</p>
<h3 id='respuesta-json-3'>Respuesta JSON</h3>
<table><thead>
<tr>
<th>Parámetro</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>status (integer)</td>
<td>Resultado de la publicación de un nuevo postulante. Los valores admitidos son 200 (OK), 401 (Unauthorized), 403 (Forbidden) ó 400 (Bad Request).</td>
</tr>
<tr>
<td>estado_ks (string)</td>
<td>Estado de la rendición del KS, el cual puede tomar los valores “Rendido”, ”Inválido”, “Inconsistente”, “En Proceso” ó “Eliminado”.</td>
</tr>
<tr>
<td>nota (string)</td>
<td>Nota obtenida en el KS ó null si el estado_ks es distinto de “Rendido”.</td>
</tr>
<tr>
<td>rango (string)</td>
<td>Texto que indica si la persona es muy adecuada, adecuada, aceptable o poco satisfactoria para el cargo ó null si el estado_ks es distinto de “Rendido”.</td>
</tr>
<tr>
<td>informe_ks_url (string)</td>
<td>URL donde está alojado el informe PDF del resultado del KS ó null si el estado_ks es distinto de “Rendido”.</td>
</tr>
<tr>
<td>informes_parciales (string)</td>
<td>JSON Array con los códigos de los test y sus respectivas URL donde está alojado del informe PDF del resultado del test parcial, ó null si el estado_ks es distinto de “Rendido”.</td>
</tr>
</tbody></table>
<h2 id='lista-de-key-scorings-cargos-activos'>Lista de Key Scorings (cargos) activos</h2><pre class="highlight shell tab-shell"><code><span class="s2">"https://app.keyclouding.cl/api/v1/company/list_ks?token=AfTzE7BpcORyp6fN"</span>
</code></pre>
<blockquote>
<p>Si la respuesta es satisfactoria:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ks_list"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">165</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ks_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TELEM"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"nombre"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TELEMARKETING"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"tests"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
          </span><span class="s2">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CIE"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"nombre"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprensión de Instrucciones Escritas"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"tiempo"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
          </span><span class="s2">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Activo"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"contra_reloj"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
          </span><span class="s2">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ARP"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"nombre"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aprendizaje y Resolución de Problemas"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"tiempo"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
          </span><span class="s2">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Activo"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"contra_reloj"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> 
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">158</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ks_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUX"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"nombre"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUXILIAR"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"tests"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w">
          </span><span class="s2">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CET"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"nombre"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comportamiento de Equipos de Trabajo"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"tiempo"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
          </span><span class="s2">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Activo"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"contra_reloj"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
          </span><span class="s2">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ARP"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"nombre"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aprendizaje y Resolución de Problemas"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"tiempo"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
          </span><span class="s2">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Activo"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"contra_reloj"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> 
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Si se produce un error de autenticación:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">401</span><span class="p">,</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Token inválido"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Recibe el token de autentificación de la empresa y retorna todos los KS (cargos) activos.</p>
<h3 id='request-3'>Request</h3>
<p><code>POST https://app.keyclouding.cl/api/v1/company/list_ks</code></p>
<h3 id='parametros-de-la-consulta-4'>Parámetros de la consulta</h3>
<table><thead>
<tr>
<th>Parámetro</th>
<th>Carácter</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>token (string)</td>
<td>obligatorio</td>
<td>Token generado por la autenticación.</td>
</tr>
</tbody></table>

<p>La respuesta obtenida está en el siguiente formato:</p>
<h3 id='respuesta-json-4'>Respuesta JSON</h3>
<table><thead>
<tr>
<th>Parámetro</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>status (integer)</td>
<td>Resultado de la consulta. Los valores admitidos son 200 (OK), 401 (Unauthorized), 403 (Forbidden) ó 400 (Bad Request).</td>
</tr>
<tr>
<td>ks_list</td>
<td>Lista con todos los KS activos y algunos parametros.</td>
</tr>
</tbody></table>

<p>Los parámetros anteriormente señalados se encuentran a continuación:</p>

<table><thead>
<tr>
<th>Parámetro</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>id (integer)</td>
<td>ID del KS.</td>
</tr>
<tr>
<td>ks_code (string)</td>
<td>Código del KS.</td>
</tr>
<tr>
<td>nombre (string)</td>
<td>Nombre del KS.</td>
</tr>
<tr>
<td>tests</td>
<td>Lista de tests correspondientes al ks y algunos parámetros de cada test tales como id, código, nombre, tiempo, estado y contra_reloj.</td>
</tr>
</tbody></table>
<h2 id='creacion-de-webhook'>Creación de Webhook</h2>
<blockquote>
<p>Ejemplo de Body a enviar en la request</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AfTzE7BpcORyp6fN"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"entity_model"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CpcAssignment"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:3000/webhooks?key1=secret_key1&amp;key2=secret_key2"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<blockquote>
<p>Ejemplo de Respuesta JSON del POST que se hace al callback_url:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"messages"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Entity_model CpcAssignment have changed"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"is_success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"ks_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">32029</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Si la respuesta es satisfactoria:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"messages"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Webhook created successfully"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"is_success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"params"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
      </span><span class="s2">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:3000/webhooks"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"entity_model"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CpcAssignment"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">79</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-10-23T13:37:52.174-03:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-10-23T13:37:52.174-03:00"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Si la respuesta es satisfactoria pero ya existe webhook para la entidad seleccionada:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"messages"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cannot create webhook with the same entity"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"is_success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"params"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
      </span><span class="s2">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:3000/webhooks"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"entity_model"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CpcAssignment"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">79</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-10-23T13:37:52.174-03:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-10-23T13:37:52.174-03:00"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Si se produce un error de parámetros:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"messages"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cannot create webhook"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"is_success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"entity_model"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CpcAssignment"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"errors"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"No puede estar en blanco"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"No es válido"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Permite a un cliente suscribirse a un sistema de actualizaciones sobre un modelo de KeyClouding. Al crear un webhook se debe indicar una URL callback, a la que se le enviará una solicitud POST al momento de existir actualizaciones sobre el modelo suscrito. Es importante destacar que en la URL callback entregada por el cliente se podrán agregar parametros de autenticación correspondientes a las credenciales especificas de cada sistema.</p>
<h3 id='request-4'>Request</h3>
<p><code>POST https://app.keyclouding.cl/api/v1/webhook/endpoints</code></p>
<h3 id='parametros-de-la-consulta-5'>Parámetros de la consulta</h3>
<p>Los parámetros deben ser enviados a través del body de la request.</p>

<table><thead>
<tr>
<th>Parámetro</th>
<th>Carácter</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>token (string)</td>
<td>obligatorio</td>
<td>Token generado por la autenticación.</td>
</tr>
<tr>
<td>callback_url (string)</td>
<td>obligatorio</td>
<td>URL a la cual se efectuará la consulta POST ante una modificación de alguna instancia del modelo suscrito.</td>
</tr>
<tr>
<td>entity_model (string)</td>
<td>obligatorio</td>
<td>Nombre del modelo al cual se quiere suscribir (e.g &quot;CpcAssignment&quot;)</td>
</tr>
</tbody></table>

<p>La respuesta obtenida está en el siguiente formato:</p>
<h3 id='respuesta-json-5'>Respuesta JSON</h3>
<table><thead>
<tr>
<th>Parámetro</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>messages (string)</td>
<td>Mensaje indicando el estado de la solicitud.</td>
</tr>
<tr>
<td>is_success (boolean)</td>
<td>Indica si la creación del webhook fue o no exitosa.</td>
</tr>
<tr>
<td>data</td>
<td>JSON array con distintos parámetros.</td>
</tr>
</tbody></table>

<p>Los parámetros anteriormente señalados se encuentran a continuación:</p>

<table><thead>
<tr>
<th>Parámetro</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>id (integer)</td>
<td>ID del webhook creado en el sistema.</td>
</tr>
<tr>
<td>callback_url (string)</td>
<td>URL proporcionada para realizar las llamadas de callback.</td>
</tr>
<tr>
<td>entity_model (string)</td>
<td>Modelo suscrito por el webhook.</td>
</tr>
<tr>
<td>created_at (string)</td>
<td>Fecha de creación del webhook.</td>
</tr>
<tr>
<td>updated_at (string)</td>
<td>Fecha de actualización de webhook.</td>
</tr>
</tbody></table>

<aside class="success">
Recuerda: actualmente sólo se puede realizar seguimiento de las actualizaciones de la entity_model 'CpcAssignment'
</aside>
<h2 id='listar-webhooks-existentes'>Listar Webhooks existentes</h2><pre class="highlight shell tab-shell"><code><span class="s2">"https://app.keyclouding.cl/api/v1/webhook/list_webhooks?token=AfTzE7BpcORyp6fN"</span>
</code></pre>
<blockquote>
<p>Si la respuesta es satisfactoria:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"messages"</span><span class="p">:</span><span class="w"> </span><span class="s2">"List of webhooks"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"is_success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"webhook"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
        </span><span class="s2">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:3000/webhooks"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"entity_model"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CpcAssignment"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">79</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-03T13:16:18.732-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-03T13:16:18.732-03:00"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Si se produce un error de parámetros:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"messages"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cannot find webhook"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"is_success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"params"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Permite obtener una lista con los webhooks existentes de la entidad o un mensaje informando que no posee ninguno en caso contrario.</p>
<h3 id='request-5'>Request</h3>
<p><code>GET https://app.keyclouding.cl/api/v1/webhook/list_webhooks</code></p>
<h3 id='parametros-de-la-consulta-6'>Parámetros de la consulta</h3>
<table><thead>
<tr>
<th>Parámetro</th>
<th>Carácter</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>token (string)</td>
<td>obligatorio</td>
<td>Token generado por la autenticación.</td>
</tr>
</tbody></table>

<p>La respuesta obtenida está en el siguiente formato:</p>
<h3 id='respuesta-json-6'>Respuesta JSON</h3>
<table><thead>
<tr>
<th>Parámetro</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>messages (string)</td>
<td>Mensaje indicando el estado de la solicitud.</td>
</tr>
<tr>
<td>is_success (boolean)</td>
<td>Indica si la creación del webhook fue o no exitosa.</td>
</tr>
<tr>
<td>data</td>
<td>JSON array con distintos parámetros.</td>
</tr>
</tbody></table>

<p>Los parámetros anteriormente señalados se encuentran a continuación:</p>

<table><thead>
<tr>
<th>Parámetro</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>id (boolean)</td>
<td>ID del webhook creado en el sistema.</td>
</tr>
<tr>
<td>callback_url (string)</td>
<td>URL proporcionada para realizar las llamadas de callback.</td>
</tr>
<tr>
<td>entity_model (string)</td>
<td>Modelo suscrito por el webhook.</td>
</tr>
<tr>
<td>created_at (string)</td>
<td>Fecha de creación del webhook.</td>
</tr>
<tr>
<td>updated_at (string)</td>
<td>Fecha de actualización de webhook.</td>
</tr>
</tbody></table>
<h2 id='eliminacion-de-webhook'>Eliminación de Webhook</h2><pre class="highlight shell tab-shell"><code><span class="s2">"https://app.keyclouding.cl/api/v1/webhook/endpoints?token=AfTzE7BpcORyp6fN&amp;id=43"</span>
</code></pre>
<blockquote>
<p>Si la respuesta es satisfactoria:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"messages"</span><span class="p">:</span><span class="w"> </span><span class="s2">"webhook deleted successfully"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"is_success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Si se produce un error de parámetros:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"messages"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cannot find webhook"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"is_success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"params"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Permite eliminar un webhook asociado a un modelo del sistema, para dejar de recibir solicitudes al momento de actualizaciones de instancias del modelo suscrito.</p>
<h3 id='request-6'>Request</h3>
<p><code>DELETE https://app.keyclouding.cl/api/v1/webhook/endpoints</code></p>
<h3 id='parametros-de-la-consulta-7'>Parámetros de la consulta</h3>
<table><thead>
<tr>
<th>Parámetro</th>
<th>Carácter</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>token (string)</td>
<td>obligatorio</td>
<td>Token generado por la autenticación.</td>
</tr>
<tr>
<td>id (integer)</td>
<td>obligatorio</td>
<td>Identificador único del webhook, el mismo que fue retornado en la Creación de Webhook.</td>
</tr>
</tbody></table>

<p>La respuesta obtenida está en el siguiente formato:</p>
<h3 id='respuesta-json-7'>Respuesta JSON</h3>
<table><thead>
<tr>
<th>Parámetro</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>messages (string)</td>
<td>Mensaje indicando el estado de la solicitud.</td>
</tr>
<tr>
<td>is_success (boolean)</td>
<td>Indica si la eliminación del webhook fue o no exitosa.</td>
</tr>
<tr>
<td>data</td>
<td>{}</td>
</tr>
</tbody></table>
<h1 id='estandares-y-tecnologia'>Estándares y Tecnología</h1><h2 id='comunicacion'>Comunicación</h2>
<p>La comunicación entre el sistema cliente y el servidor se realizará de la siguiente manera:</p>

<p>1. La app cliente envía mediante POST una solicitud HTTPS a una URL específica determinada por el tipo de recurso requerido. La estructura de la URL será establecida por KeyClouding y la app cliente se adaptará a las rutas indicadas. </p>

<p>2. El servidor procesa los parámetros POST y retorna una respuesta en JSON (JavaScript Object Notation); o error en caso de no poder responder a la solicitud.</p>

<p>3. El cliente recibe la respuesta. Si es un error notifica al usuario (si corresponde). Si es una respuesta JSON, la deserializa y procesa los objetos de la respuesta.</p>
<h2 id='tecnologia'>Tecnología</h2>
<p>Toda la comunicación entre plataformas utilizará estándares REST y protocolo de intercambio de mensajes mediante JSON, por lo que la comunicación es transparente independiente de la plataforma cliente empleada. </p>

<p>Por otro lado, el servidor posee servicios HTTPS y conectividad a internet, de tal manera de permitir la solicitud de recursos mediante URL.</p>
<h1 id='justificacion-de-la-tecnologia'>Justificación de la Tecnología</h1>
<p>Toda la comunicación entre el cliente y el servidor (C-S) se realiza mediante llamadas HTTP al servidor entregando los parámetros necesarios mediante POST. Esta forma de comunicación es utilizada ya que, por un lado, es transparente y multi-plataforma (cualquier aplicación con soporte para comunicación HTTP, independiente de la plataforma, puede comunicarse con la API del servidor), además de ser ampliamente soportada y reconocida. Por otro lado, al seguir el paradigma REST, el servidor procesa sólo cuando recibe una solicitud y no tiene que estar pendiente de conexiones entrantes, ya que el listening lo realiza el servidor web.</p>

<p>La respuesta del servidor se serializa mediante JSON. Esto debido a que JSON es un mecanismo de codificación para el traspaso de mensajes entre sistemas que optimiza el proceso de transferencia y de codificación/decodificación. La razón de esto es que JSON serializa los objetos utilizando la menor cantidad de caracteres sin comprimir la información simplificando, a su vez, el proceso de codificación. Esto es muy importante, ya que los dispositivos móviles tienen conectividad y CPU limitadas.</p>

<p>Finalmente, la combinación HTTP/JSON es ampliamente utilizada en aplicaciones de alto rendimiento y carga, como Facebook, Twitter, Instagram, etc; debido tanto a lo anteriormente planteado como al gran soporte que existe en la actualidad a estas tecnologías.</p>
<h1 id='ambiente-de-prueba'>Ambiente de prueba</h1>
<p>Durante el proceso de integración, se habilitará un ambiente de prueba para que el cliente pueda realizar solicitudes a la API libremente. El ambiente de pruebas no posee envío de emails para evitar potenciales errores en la comunicación de cara al cliente o al usuario. </p>

<p>Es por esta razón, que se facilitará un usuario de prueba ficticio, junto con sus credenciales. Adicionalmente, se habilitará una API_KEY que funcionará exclusivamente en este ambiente. Una vez que las pruebas hayan concluido, se otorgará la API_KEY correspondiente al ambiente de producción. </p>

<p>La URL del ambiente de pruebas mantiene la misma forma, pero cambia el host:
<code>https://staging.keyclouding.cl/api/v1/</code></p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="json">json</a>
          </div>
      </div>
    </div>
  </body>
</html>
